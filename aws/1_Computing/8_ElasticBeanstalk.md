# AWS Elastic Beanstalk

```
┌───────────────────────────────────────────────────────┐
│              Elastic Beanstalk (自動管理)             │
│  ┌─────────────────────────────────────────────────┐  │
│  │                    ELB                          │  │
│  └─────────────────────────────────────────────────┘  │
│  ┌─────────────────────────────────────────────────┐  │
│  │           Auto Scaling Group                    │  │
│  │   ┌──────┐  ┌──────┐  ┌──────┐                  │  │
│  │   │  EC2 │  │  EC2 │  │  EC2 │                  │  │
│  │   └──────┘  └──────┘  └──────┘                  │  │
│  └─────────────────────────────────────────────────┘  │
│  ┌─────────────────────────────────────────────────┐  │
│  │              RDS (オプション)                   │  │
│  └─────────────────────────────────────────────────┘  │
└───────────────────────────────────────────────────────┘
         ↑ コードをアップロードするだけ
```

## Overview
- PaaS (Platform as a Service):       EC2, ELB, Auto Scaling, RDS 等を ==自動プロビジョニング== / ==Beanstalk自体は無料== (使用リソースのみ課金)
  - 制御:                             ==フルコントロール可能== (設定変更、SSHアクセス可)
  - Components:
    - Application:                    最上位のコンテナ (論理的なアプリ)
    - Environment:                    実行環境 (dev, staging, prod等)
    - Application Version:            コードのバージョン (S3に保存)
  - Deployment Policies:
    | ポリシー | 説明 | ダウンタイム |
    |---------|------|-------------|
    | ==All at once== | 全インスタンス同時更新 | ==あり== |
    | ==Rolling== | バッチごとに順次更新 | なし (容量低下) |
    | ==Rolling with additional batch== | 追加バッチで容量維持 | なし |
    | ==Immutable== | 新ASGにデプロイ後切替 | なし |
    | ==Blue/Green== | 新環境作成→DNS切替 | なし |
