# Amazon Redshift

## Overview
- データウェアハウス:     ==ペタバイト級== / ==OLAP== (分析向け) / 列指向ストレージ / SQL クエリ
  - OLTP vs OLAP:
    | 項目 | `OLTP` | `OLAP` |
    |------|----------|----------|
    | 目的 | トランザクション処理 | `分析・集計` |
    | クエリ | 単純、頻繁 | `複雑、大量データ` |
    | AWS サービス | `RDS, Aurora, DynamoDB` | `Redshift, Athena` |
  - `Redshift Spectrum`:    ==S3 のデータを直接クエリ== (Redshift にロード不要) / Redshift クラスターから SQL で S3 を分析
    - 注意:               ==分析用途のみ== / レイテンシ秒〜分 / オンラインシステムには不適切
    ```
    ┌─────────────┐        ┌─────────────┐
    │  Redshift   │──SQL──>│     S3      │
    │  Cluster    │        │  (データ)   │
    └─────────────┘        └─────────────┘
         ↑
      Spectrum でクエリ
    ```
  - `Redshift Serverless`:
    | 項目 | 説明 |
    |------|------|
    | **スケーリング** | ==自動== |
    | **課金** | ==使用した分だけ== |
    | **ユースケース** | 間欠的な分析、予測困難なワークロード |
  - スナップショット:
    | 種類 | 説明 |
    |------|------|
    | **自動** | 8時間ごと or 5GB 変更ごと / 保持期間 1-35日 |
    | **手動** | 手動作成 / ==削除するまで保持== |
    | **クロスリージョン** | DR 用に別リージョンにコピー可能 |
