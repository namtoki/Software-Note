# Amazon RDS (Relational Database Service)

## Overview
- マネージド RDB:         パッチ適用 / ==ストレージは手動スケーリング==
  - エンジン:             MySQL, PostgreSQL, MariaDB, Oracle, SQL Server, ==Aurora==
  - Replication:
    | 項目 | `Multi-AZ` | `Read Replica` |
    |------|-------------|------------------|
    | **目的** | ==高可用性 (HA)== | ==読み取りスケーリング== |
    | **同期** | ==同期==レプリケーション | ==非同期==レプリケーション |
    | **フェイルオーバー** | ==自動== | 手動で昇格 |
    | **読み取り** | スタンバイは使用不可 | ==読み取りクエリ可== |
    | **リージョン** | 同一リージョン | ==クロスリージョン可== |
  - バックアップ:
    | 種類 | 説明 |
    |------|------|
    | `自動バックアップ` | 毎日 + トランザクションログ / 保持期間 0-35日 / ==PITR 対応== |
    | `スナップショット` | 手動作成 / 保持期間無制限 / 別リージョンにコピー可 |
    - `PITR`:               Point-in-Time Recovery / 保持期間内の==任意の時点==に復元可能
  - 暗号化:
    | タイミング | 説明 |
    |-----------|------|
    | **保存時** | ==KMS== で暗号化 / 作成時のみ設定可能 |
    | **転送時** | ==SSL/TLS== |
  - 認証:
    - `パスワード認証`:     DB ユーザー名 + パスワード (デフォルト)
    - `IAM Database 認証`:  ==IAM ロール/ユーザーで認証== / ==一時トークン== (15分有効)
      - 対応:             ==MySQL, PostgreSQL, MariaDB== (Oracle, SQL Server は不可)
      - メリット:         パスワード管理不要 / IAM で一元管理 / ==SSL 必須==
      - ユースケース:     Lambda → RDS 接続 (IAM ロール使用)

## RDS vs Aurora

| 項目 | RDS | Aurora |
|------|---------|-----------|
| パフォーマンス | 標準 | MySQL 5倍 / PostgreSQL 3倍 |
| ストレージ | ==手動スケーリング== | 自動スケーリング (10GB〜128TB) |
| レプリカ | 最大5台 | 最大15台 |
| 可用性 | Multi-AZ で HA | 3AZ に 6コピー (標準で高可用性) |
| フェイルオーバー | 60-120秒 | 30秒未満 |
| コスト | 低い | ==!20%程度高い== |
